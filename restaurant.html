<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/loader.css" />
    <link rel="stylesheet" href="css/form.css" />
    <link rel="stylesheet" href="css/checkbox.css" />
    <link rel="stylesheet" href="css/customerLoginModal.css" />
    <title>Food Lambda</title>
    <style>
      #main {
        /* background-image: url("img/background.jpg"); */
        background-size: cover;
        position: relative;
        background-color: grey;
      }

      #restList {
        min-height: 60px;
      }

      .media img {
        width: 150px;
        height: 150px;
        object-fit: cover;
      }

      .mediaBtn {
        background-color: #fff;
      }

      .mediaContainer {
        width: 100%;
      }
      .btn-outline-secondary:not(:disabled):not(.disabled).active:focus,
      .btn-outline-secondary:not(:disabled):not(.disabled):active:focus,
      .show > .btn-outline-secondary.dropdown-toggle:focus,
      .btn-outline-secondary.focus,
      .btn-outline-secondary:focus,
      #allTag:focus {
        box-shadow: none;
      }

      .toast {
        position: fixed;
        top: 5%;
        right: 5%;
        z-index: 999999;
      }

      .h-100.p-3.shadow-lg {
        border-radius: 20px;
      }

      #resBreadcrumb:hover {
        cursor: pointer;
      }

      .ht_slideshow,
      .ht_slideshow:after {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0px;
        left: 0px;
        z-index: 1;
      }

      .ht_slideshow:after {
        content: "";
        background: rgba(0, 0, 0, 0.5);
      }

      .ht_slideshow li {
        list-style-type: none;
      }

      .ht_slideshow li span {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0px;
        left: 0px;
        color: transparent;
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center 45%;
        opacity: 0;
        z-index: 0;
        animation: fade 18s linear infinite;
      }

      .ht_slideshow li:nth-child(1) span {
        background-image: url(../img/bg/bg1.jpg);
      }

      .ht_slideshow li:nth-child(2) span {
        background-image: url(../img/bg/bg2.jpg);
        animation-delay: 6s;
      }
      .ht_slideshow li:nth-child(3) span {
        background-image: url(../img/bg/bg3.jpg);
        animation-delay: 12s;
      }

      @keyframes fade {
        0% {
          opacity: 0;
        }
        11.11% {
          opacity: 1;
        }
        33.33% {
          opacity: 1;
        }
        44.44% {
          opacity: 0;
        }
        100% {
          opacity: 0;
        }
      }

      /* welcome animation */
      .animeBackground {
        z-index: 9999;
        position: fixed;
        height: 100vh;
        width: 100vw;
        background-color: black;
      }
      .animeContainer {
        text-align: center;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        z-index: 9999;
      }
      .animeContainer span {
        text-transform: uppercase;
        display: block;
      }
      .text1 {
        color: white;
        font-size: 60px;
        font-weight: 700;
        letter-spacing: 8px;
        margin-bottom: 20px;
        background: black;
        position: relative;
        animation: ani 3s;
      }
      .text2 {
        font-size: 30px;
        color: #6ab04c;
      }
      @keyframes ani {
        0% {
          color: black;
          margin-bottom: -40px;
        }
        30% {
          letter-spacing: 25px;
          margin-bottom: -40px;
        }
        85% {
          letter-spacing: 8px;
          margin-bottom: -40px;
        }
      }

      #realMain {
        position: relative;
        z-index: 5;
      }
      #footer {
        position: relative;
        z-index: 5;
      }
      #carouselExampleIndicators {
        box-shadow: 0px 0px 50px rgba(255, 255, 255, 0.7);
      }
      .footerBar {
        position: relative;
        z-index: 2;
      }
    </style>
  </head>

  <body class="h-100">
    <!-- Login modal -->
    <div id="loginModal" class="modal fade">
      <div class="modal-dialog modal-login">
        <div class="modal-content">
          <div class="modal-header">
            <div class="avatar">
              <img src="img/avatar.png" alt="Avatar" />
            </div>
            <h4 class="modal-title">Member Login</h4>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-hidden="true"
            >
              &times;
            </button>
          </div>
          <div class="modal-body">
            <form action="restaurantLoged.html" method="get">
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  name="username"
                  placeholder="Username"
                  required="required"
                />
              </div>
              <div class="form-group">
                <input
                  type="password"
                  class="form-control"
                  name="password"
                  placeholder="Password"
                  required="required"
                />
              </div>
              <div class="form-group">
                <button
                  type="submit"
                  class="btn btn-primary btn-lg btn-block login-btn"
                >
                  Login
                </button>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <a href="">Forgot Password?</a>
          </div>
        </div>
      </div>
    </div>

    <!-- anime -->
    <div class="animeBackground">
      <div class="animeContainer">
        <span class="text1">Welcome In</span>
        <span class="text2"
          >Yummy Everywhere<i class="material-icons" style="font-size: 30px;">
            restaurant_menu
          </i></span
        >
      </div>
    </div>

    <!-- navbar -->
    <div
      class="navbar navbar-light bg-light navbar-expand-lg bar-sg shadow flex-wrap sticky-top p-0"
    >
      <div class="jy-indicator"></div>
      <div class="container pb-2 pt-2 mx-auto">
        <a href="./customer_index.html" class="navbar-brand">
          <i class="material-icons" id="logo"> fastfood </i> Yummy Everywhere
        </a>
        <button
          class="navbar-toggler pull-left mx-2"
          type="button"
          data-toggle="collapse"
          data-target="#navbarContent"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="navbar-collapse collapse flex-row-reverse"
          id="navbarContent"
        >
          <ul class="navbar-nav">
            <!-- <li class="nav-item" id="shoppingCart">
              <a
                class="nav-link modal-trigger"
                href="./login.html"
                data-toggle="modal"
                data-target="#loginModal"
                id="btnShoppingCart"
                >Shopping Cart<i class="material-icons align-bottom">
                  shopping_cart
                </i></a
              >
            </li> -->
            <li class="nav-item">
              <a id="restTag" class="nav-link" href="./restaurant.html"
                >Restaurant</a
              >
            </li>
            <li class="nav-item">
              <a id="orderTag" class="nav-link" href="./order.html">Order</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./register.html"
                >Sign-Up<i class="material-icons align-bottom">
                  create
                </i></a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link modal-trigger"
                href="#myModal"
                class="trigger-btn"
                data-toggle="modal"
                data-target="#loginModal"
                >Login<i class="material-icons align-bottom">
                  person
                </i></a
              >
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div id="main" class="fluid-container">
      <div
        class="ccc"
        style="position: absolute; width: 100%; height: 100%; z-index: 99;"
      >
        <div style="height: 575px;"></div>
        <div class="floatingFliter" id="floatingFliter">
          <form>
            <fieldset>
              <legend>Fliter</legend>
              <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input
                  type="email"
                  class="form-control"
                  id="exampleInputEmail1"
                  aria-describedby="emailHelp"
                  placeholder="Enter email"
                />
                <small id="emailHelp" class="form-text text-muted"
                  >We'll never share your email with anyone else.</small
                >
              </div>
              <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input
                  type="password"
                  class="form-control"
                  id="exampleInputPassword1"
                  placeholder="Password"
                />
              </div>
              <div class="form-group form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="exampleCheck1"
                />
                <label class="form-check-label" for="exampleCheck1"
                  >Check me out</label
                >
              </div>
            </fieldset>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </div>

      <!-- background slideshow -->
      <ul class="ht_slideshow">
        <li><span></span></li>
        <li><span></span></li>
        <li><span></span></li>
      </ul>

      <!-- top -->
      <div id="realMain" class="container">
        <div
          id="carouselExampleIndicators"
          class="carousel slide"
          data-ride="carousel"
        >
          <ol class="carousel-indicators">
            <li
              data-target="#carouselExampleIndicators"
              data-slide-to="0"
              class="active"
            ></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="img/slide/slide1.jpg" class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
              <img src="img/slide/slide2.jpg" class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
              <img src="img/slide/slide3.jpg" class="d-block w-100" alt="..." />
            </div>
          </div>
          <a
            class="carousel-control-prev"
            href="#carouselExampleIndicators"
            role="button"
            data-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a
            class="carousel-control-next"
            href="#carouselExampleIndicators"
            role="button"
            data-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>

        <div class="bg-dark row mt-3 p-2">
          <form
            class="form-inline"
            onsubmit="closeMenu();return searchText('foodItem', 'keyWord')"
          >
            <input
              class="form-control mr-sm-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
              id="keyWord"
            />
            <button class="btn btn-outline-success" type="submit">
              <i class="material-icons align-top">search</i>
            </button>
            <button
              class="btn btn-primary mx-2"
              type="submit"
              value="filter-food"
              onclick="$('#filterModal').modal()"
            >
              Filter
            </button>
          </form>
        </div>
        <div class="row">
          <div class="p-3 col-12 bg-warning">
            <div
              class="h-100 p-3"
              style="box-shadow: 0 0 3rem rgba(0, 0, 0, .3) !important;"
            >
              <button class="btn btn-primary" id="allTag">All</button>
              <button
                class="tag btn btn-outline-secondary"
                data-type="feature"
                value="Fast Food"
              >
                Fastfood
              </button>
              <button
                class="tag btn btn-outline-secondary"
                data-type="feature"
                value="Noodles"
              >
                Noodle
              </button>
              <button
                class="tag btn btn-outline-secondary"
                data-type="feature"
                value="American"
              >
                American
              </button>
              <button
                class="tag btn btn-outline-secondary"
                data-type="feature"
                value="Western"
              >
                Western
              </button>
              <button
                class="tag btn btn-outline-secondary"
                data-type="feature"
                value="Dim Sum"
              >
                Dim Sum
              </button>
            </div>
          </div>
          <div
            class="col-12 p-3 order-2 order-md-1"
            style="background: #ffeae4;"
          >
            <!-- <div>
            <i class="material-icons">store</i><span class="mx-3 align-top" onclick="backToRestaurentView()" id="resBreadcrumb">Restaurants</span>
            <span class="p-1">&gt;</span>
            <i class="material-icons">restaurant_menu</i><span class="mx-3 align-top">Menu</span>
        </div> -->
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb" style="background-color:  #acbfd2;">
                <li class="breadcrumb-item">
                  <i class="material-icons">store</i><span>Restaurants</span>
                </li>
              </ol>
            </nav>
            <div class="row" id="restList">
              <div class="lds-default col-offset-6">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
              </div>
            </div>
            <div class="container" id="shopPage">
              <ul
                id="pagination-demo"
                class="pagination-sm pagination justify-content-center"
              >
                <li class="page-item first disabled">
                  <a href="#!" class="page-link">|&lt;</a>
                </li>
                <li class="page-item prev disabled">
                  <a href="#!" class="page-link">&lt;</a>
                </li>
                <li class="page-item active">
                  <a href="#!" class="page-link">1</a>
                </li>
                <li class="page-item"><a href="#!" class="page-link">2</a></li>
                <li class="page-item"><a href="#!" class="page-link">3</a></li>
                <li class="page-item"><a href="#!" class="page-link">4</a></li>
                <li class="page-item next">
                  <a href="#!" class="page-link">&gt;</a>
                </li>
                <li class="page-item last">
                  <a href="#!" class="page-link">&gt;|</a>
                </li>
              </ul>
            </div>
            <div
              id="restMenu"
              class="fluid-container p-4"
              style="display:none;"
            >
              <h1 id="restName"></h1>
              <div class="jy-tabs">
                <input
                  type="radio"
                  name="jy-tabs"
                  id="tabone"
                  checked="checked"
                />
                <label for="tabone">Menu</label>
                <div class="jy-tab" id="foodList">
                  <div
                    class="mediaContainer shadow-lg"
                    style="visibility: visible;"
                  >
                    <div class="media p-2" style="background-color: white;">
                      <img
                        src="img/ice-cream.jpg"
                        class="align-self-start mr-3"
                        data-toggle="modal"
                        data-target="#exampleModalScrollable"
                        type="button"
                        alt="..."
                      />
                      <div class="media-body">
                        <h5 class="mt-0 p-3" style="font-family: Arial;">
                          Ice Cream
                        </h5>
                        <span
                          class="reportNo"
                          style="color: rgb(38, 4, 82);font-size: 1.5em;"
                          >No Description</span
                        >
                      </div>
                    </div>
                    <div class="mediaBtn p-3">
                      <button
                        type="button"
                        class="btn btn-primary float-right mx-2"
                        onClick="showToast('Item has add to cart.')"
                      >
                        <i class="material-icons align-top">add</i>
                      </button>
                      <span class="float-right p-2"
                        ><span>Price : </span
                        ><span class="foodPrice">10</span></span
                      >
                      <div style="clear: both;"></div>
                    </div>
                  </div>
                </div>

                <input type="radio" name="jy-tabs" id="tabtwo" />
                <label for="tabtwo">Description</label>
                <div class="jy-tab" id="desc"></div>

                <input type="radio" name="jy-tabs" id="tabthree" />
                <label for="tabthree">Comments</label>
                <div class="jy-tab" id="comment">
                  <div>
                    <span class="text-warning" style="font-size: 2rem;"
                      >Comments</span
                    >
                    <span class="float-right" id="rating"> </span>
                    <div style="clear: both;"></div>
                  </div>
                  <div id="cmt-block">
                    <div class="cmt shadow p-2">
                      <div class="cmt-header">
                        <span class="text-warning">#1</span><span> p**** </span
                        ><span>2019-10-17</span>
                      </div>
                      <div class="cmt-body">服務很好 整體5顆星</div>
                    </div>
                    <div class="cmt shadow p-2">
                      <div class="cmt-header">
                        <span class="text-warning">#1</span><span> p**** </span
                        ><span>2019-10-17</span>
                      </div>
                      <div class="cmt-body">服務很好 整體5顆星</div>
                    </div>
                    <div class="cmt shadow p-2">
                      <div class="cmt-header">
                        <span class="text-warning">#1</span><span> p**** </span
                        ><span>2019-10-17</span>
                      </div>
                      <div class="cmt-body">服務很好 整體5顆星</div>
                    </div>
                  </div>
                  <div class="py-2">
                    <span class="text-warning">Your Comments</span>
                  </div>
                  <form class="row" onsubmit="return giveComment();">
                    <div class="col-6 py-2">
                      <input
                        class="form-control mx-1"
                        type="text"
                        name="your-cmt"
                        id="your-cmt"
                        required
                      />
                    </div>
                    <div class="col-3 py-2">
                      <input
                        type="submit"
                        class="btn btn-primary mx-1"
                        value="Submit"
                      />
                    </div>
                    <div class="rate col-3">
                      <input type="radio" id="star5" name="rate" value="5" />
                      <label for="star5" title="text"></label>
                      <input type="radio" id="star4" name="rate" value="4" />
                      <label for="star4" title="text"></label>
                      <input type="radio" id="star3" name="rate" value="3" />
                      <label for="star3" title="text"></label>
                      <input type="radio" id="star2" name="rate" value="2" />
                      <label for="star2" title="text"></label>
                      <input type="radio" id="star1" name="rate" value="1" />
                      <label for="star1" title="text"></label>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- footer -->
    <footer class="py-5 text-white" id="footer">
      <div class="container py-xl-4">
        <div class="row footer-top">
          <div class="col-lg-4 footer-grid_section_1its footer-text">
            <!-- logo -->
            <h2>
              <a class="logo text-white" href="index.html">
                Yummy Everywhere
              </a>
            </h2>
            <!-- //logo -->
            <p class="mt-lg-4 mt-3 mb-lg-5 mb-4">
              If the food is Yummy, delivered.
            </p>
            <!-- social icons -->
            <ul class="top-right-info">
              <li>
                <p>Follow As:</p>
              </li>
              <li>
                <a class="white-text mx-1" href="https://www.facebook.com/"
                  ><img
                    src="img/icon/facebok.png"
                    alt=""
                    style="width: 25px; height: 25px;"
                /></a>
              </li>
              <li>
                <a
                  class="white-text mx-1"
                  href="https://twitter.com/?lang=zh-tw"
                  ><img
                    src="img/icon/twitter.png"
                    alt=""
                    style="width: 25px; height: 25px; border-radius: 50%;"
                /></a>
              </li>
              <li>
                <a
                  class="white-text mx-1"
                  href="https://www.instagram.com/accounts/login/"
                  ><img
                    src="img/icon/ig.png"
                    alt=""
                    style="width: 25px; height: 25px;"
                /></a>
              </li>
            </ul>
            <!-- //social icons -->
          </div>
          <div class="col-lg-4 footer-grid_section_1its my-lg-0 my-sm-4 my-4">
            <div class="footer-title">
              <h3>Contact Us</h3>
            </div>
            <div class="footer-text mt-4">
              <p>Address : 1234 yummy, Everywhere, North City, North Koera</p>
              <p class="my-2">Phone : +852 12345678</p>
              <p>
                Email :
                <a href="mailto:yummy@everywhere.com">yummy@everywhere.com</a>
              </p>
            </div>
          </div>
          <div class="col-lg-4 footer-grid_section_1its">
            <div class="footer-title">
              <h3>Request Info</h3>
            </div>
            <div class="info-form-right mt-4 p-0">
              <form action="#!" method="post">
                <div class="row">
                  <div class="col-lg-6 form-group mb-2 pr-lg-1">
                    <input
                      type="text"
                      class="form-control"
                      name="Name"
                      placeholder="Name"
                      required=""
                    />
                  </div>
                  <div class="col-lg-6 form-group mb-2 pl-lg-1">
                    <input
                      type="text"
                      class="form-control"
                      name="Phone"
                      placeholder="Phone"
                      required=""
                    />
                  </div>
                </div>
                <div class="form-group mb-2">
                  <input
                    type="email"
                    class="form-control"
                    name="Email"
                    placeholder="Email"
                    required=""
                  />
                </div>
                <div class="form-group mb-2">
                  <textarea
                    name="Comment"
                    class="form-control"
                    placeholder="Comment"
                    required=""
                  ></textarea>
                </div>
                <button type="submit" class="btn float-right my-2 btn-danger">
                  Submit
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <div class="copy-right text-center py-3 footerBar">
      <p>© 2019 Yummy Everywhere. All rights reserved.</p>
    </div>
    <div class="modal fade" id="filterModal">
      <div class="modal-dialog modal-xl" style="width: 2000px;">
        <div class="modal-content">
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Filter</h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>
          <!-- Modal body -->
          <div class="modal-body">
            <form action="">
              <span class="filterSubHeading">Budget</span>

              <br />

              <div class="row">
                <div class="col-2 cbclicker clickable">
                  <label class="cbContainer"
                    ><span class="align-top"> ? </span
                    ><input
                      name="budget"
                      type="checkbox"
                      class="form-check-input"
                      id="pL1"
                      value="1"
                    />
                    <span class="checkmark"></span>
                  </label>
                </div>

                <div class="col-2 cbclicker clickable">
                  <label class="cbContainer"
                    ><span class="align-top"> ?? </span
                    ><input
                      name="budget"
                      type="checkbox"
                      class="form-check-input"
                      id="pL2"
                      value="2"
                    />
                    <span class="checkmark"></span>
                  </label>
                </div>

                <div class="col-2 cbclicker clickable">
                  <label class="cbContainer"
                    ><span class="align-top"> ??? </span
                    ><input
                      name="budget"
                      type="checkbox"
                      class="form-check-input"
                      id="pL3"
                      value="3"
                    />
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>

              <br />
              <span class="filterSubHeading">Food type</span>
              <br />
              <div class="row">
                <div class="col-2 cbclicker clickable">
                  <label class="cbContainer"
                    ><span class="align-top"> Western </span
                    ><input
                      name="feature"
                      type="checkbox"
                      class="form-check-input"
                      id="pL3"
                      value="Western"
                    />
                    <span class="checkmark"></span>
                  </label>
                </div>
                <div class="col-2 cbclicker clickable">
                  <label class="cbContainer"
                    ><span class="align-top"> American </span
                    ><input
                      name="feature"
                      type="checkbox"
                      class="form-check-input"
                      id="pL3"
                      value="American"
                    />
                    <span class="checkmark"></span>
                  </label>
                </div>
                <div class="col-2 cbclicker clickable">
                  <label class="cbContainer"
                    ><span class="align-top"> Rice </span
                    ><input
                      name="feature"
                      type="checkbox"
                      class="form-check-input"
                      id="pL3"
                      value="Rice"
                    />
                    <span class="checkmark"></span>
                  </label>
                </div>
                <div class="col-2 cbclicker clickable">
                  <label class="cbContainer"
                    ><span class="align-top"> Chinese </span
                    ><input
                      name="feature"
                      type="checkbox"
                      class="form-check-input"
                      id="pL3"
                      value="Chinese"
                    />
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>

              <!-- <input type="text" name="restType" id="restType" class="form-control"> -->
            </form>
          </div>
          <!-- Modal footer -->
          <div class="modal-footer justify-content-center">
            <button
              type="button"
              class="btn btn-success"
              data-dismiss="modal"
              onclick="searchByFilter()"
            >
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="toast fade" id="myToast" data-delay="1500">
      <div class="toast-header">
        <strong class="mr-auto">Message</strong>
        <small>current</small>
        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast">
          &times;
        </button>
      </div>
      <div class="toast-body">
        We have received your comment
      </div>
    </div>

    <script src="js/jquery-3.4.1.min.js" charset="utf-8"></script>
    <script src="js/bootstrap.min.js" charset="utf-8"></script>
    <script src="js/util.js"></script>
    <!-- util functions included in the CodyHouse framework -->

    <script>
      const S_TAG = 0;
      const S_FILTER = 1;
      var restaurants = [];
      var filtering = false;
      var featureList = { priceLv: [], feature: [], type: [] };
      $(document).ready(function() {
        $.getJSON("data/data.json", function(data) {
          restaurants = data.restaurant;
          let context = "";
          for (let i = 0; i < restaurants.length; i++) {
            context += putRestaurant(restaurants[i]);
          }
          $.when($(".lds-default").fadeOut(1000)).done(function() {
            $("#restList").append(context);
            $(".foodItem:gt(11)").hide(1000);
          });
        });
        // filterTag
        $("#allTag").click(function() {
          resetRest();
          closeMenu();
        });
        $(".tag").click(function() {
          if (filtering) {
            featureList = { priceLv: [], feature: [], type: [] };
            filtering = false;
          }
          $(this).toggleClass("active");
          let searchText = $(this).val();
          // restaurants.find(x => x.feature.contain(searchText));
          let thisType = $(this).data("type");
          if ($(this).hasClass("active")) {
            featureList[thisType].push(searchText);
          } else {
            featureList[thisType] = featureList[thisType].filter(
              e => e !== searchText
            );
          }
          filterRest(S_TAG);
        });
        // give rating
        $('input:radio[name="rate"]').change(function() {
          showToast("We have received your comment");
        });
      });

      function putRestaurant(rest) {
        let label = "";
        if (rest.label !== undefined) {
          label = '<div class="card-label">' + rest.label + "</div>";
        }
        let restDiv =
          '<div class="col-12 col-sm-6 col-md-4 col-xl-3 p-3 foodItem"> <a class="card" href="#!" data-id="' +
          rest.id +
          '" onclick="showFood( ' +
          rest.id +
          ' );"> ' +
          label +
          '<div class="card-img"> <img class="card-img-top"  src="' +
          rest.imagePath +
          '" alt="food image"> </div> <div class="card-body"> <span>' +
          rest.name +
          '</span> <ul class="food"> <li>' +
          "$".repeat(rest.priceLv) +
          "</li> <li>" +
          rest.feature.join("</li><li>") +
          '</li> </ul> <ul class="food-price"> <li><strong>$' +
          rest.minPrice +
          "</strong></li> <li>minimum</li><br /> <li><strong>$" +
          rest.fee +
          "</strong></li> <li>delivery fee</li> </ul> </div> </a> </div> ";
        return restDiv;
      }
      function putFood(food) {
        let description;
        if (food.desc !== null) {
          description = food.desc;
        } else {
          description = "No Description";
        }
        let image;
        if (food.imagePath !== null) {
          image =
            '<img src="' +
            food.imagePath +
            '" class="align-self-start mr-3"type="button" alt="food picture" />';
        } else {
          image =
            '<div class="material-icons p-2" style="font-size: 8rem;">restaurant_menu</div>';
        }
        // console.log(image);
        let foodDiv =
          '<div class="mediaContainer shadow-lg" style="visibility: visible;">' +
          '<div class="media p-2" style="background-color: white;"> ' +
          image +
          ' <div class="media-body"> <h5 class="mt-0 py-3" style="font-family: Arial;">' +
          food.name +
          '</h5> <span class="reportNo" style="color: rgb(38, 4, 82);font-size: 1em;">' +
          description +
          '</span> </div> </div> <div class="mediaBtn p-3">' +
          ' <button type="button" class="btn btn-primary float-right mx-2 add-cart-btn" onclick="showToast(\'Item has add to cart.\');"> ' +
          '<i class="material-icons align-top">add</i> </button> <span class="float-right p-2">' +
          '<span>Price : </span><span class="foodPrice">' +
          food.price +
          "</span></span>" +
          ' <div style="clear: both;"></div> </div> </div> ';
        return foodDiv;
      }

      function showFood(fid) {
        if ($("#restMenu").css("display") == "block") {
          $("#restMenu").hide();
          $("#shopPage").hide();
        }
        if ($("#restList").css("display") == "flex") {
          $("#restList").hide();
          $("#shopPage").hide();
        }
        $(".breadcrumb").html(
          '<li class="breadcrumb-item"><a href="#!" onclick="closeMenu();"><i class="material-icons">store</i><span >Restaurants</span></a></li><li class="breadcrumb-item"><i class="material-icons">restaurant_menu</i><span >Menu</span></li>'
        );

        let menu = restaurants.find(x => x.id === fid);
        $("#restName").text(menu.name);
        $("#desc").html(
          "<img class='float-left p-2' style='width: 15rem; height: 15rem; object-fit: cover;' src='" +
            menu.imagePath +
            "'></img><p>" +
            menu.desc +
            "</p><div style='clear: both;'></div>"
        );
        $("#restMenu").fadeIn();
        $("#rating").html(
          '<span class="stared"></span>'.repeat(menu.rating) +
            '<span class="nostar"></span>'.repeat(5 - menu.rating)
        );
        foodContext = "";
        for (let i = 0; i < menu.foods.length; i++) {
          foodContext += putFood(menu.foods[i]);
        }
        $("#foodList").html(foodContext);
        // foodList = "";
        // for (let food in menu.foods) {
        //   foodList += ""
        // }
        // $("#foodList").html("")
      }
      function giveComment() {
        $("#cmt-block").append(
          ' <div class="cmt shadow p-2"> <div class="cmt-header"><span class="text-warning">#1</span><span> p**** ' +
            '</span><span>2019-10-17</span></div> <div class="cmt-body">' +
            $("#your-cmt").val() +
            "</div> </div> "
        );
        $("#your-cmt").val("");
        return false;
      }

      function modelFilter() {
        restaurants.find(x => x.priceLv === fid);
      }

      function searchByFilter() {
        resetRest();
        filtering = true;
        featureList = { priceLv: [], feature: [], type: [] };
        $("input[name= 'budget']:checked").each(function() {
          featureList.priceLv.push(parseInt($(this).val()));
        });
        $("input[name= 'feature']:checked").each(function() {
          featureList.feature.push($(this).val());
        });
        $("input[name= 'type']:checked").each(function() {
          featureList.type.push($(this).val());
        });
        // console.log($("input[name= 'restType']").val());
        filterRest(S_FILTER);
      }

      function closeMenu() {
        // return
        // $(".breadcrumb").empty();
        $(".breadcrumb").html(
          '<li class="breadcrumb-item"><i class="material-icons">store</i><span >Restaurants</span></li>'
        );

        $("#restMenu").hide();
        $("#restList").fadeIn();

        $("#shopPage").fadeIn();
      }
      function resetRest() {
        $(".tag").each(function() {
          if ($(this).hasClass("active")) {
            $(this).removeClass("active");
          }
        });
        $(".foodItem").each(function() {
          $(this).fadeIn();
        });
      }

      function filterRest(mode) {
        for (let i = 0; i < restaurants.length; i++) {
          let isMatch;
          if (mode == S_TAG) {
            isMatch =
              featureList.feature.every(val =>
                restaurants[i].feature.includes(val)
              ) &&
              (!featureList.priceLv.length ||
                featureList.priceLv.includes(restaurants[i].priceLv));
          } else {
            // if no featureList.feature.length = 0
            isMatch =
              (featureList.feature.some(val =>
                restaurants[i].feature.includes(val)
              ) ||
                featureList.feature.length == 0) &&
              (!featureList.priceLv.length ||
                featureList.priceLv.includes(restaurants[i].priceLv));
          }
          if (isMatch) {
            $(".foodItem")
              .eq(i)
              .fadeIn();
          } else {
            $(".foodItem")
              .eq(i)
              .fadeOut();
          }
        }
        //  console.log(featureList);
      }
      function backToRestaurentView() {
        $("#restList").fadeIn();
        $("#restMenu").fadeIn();
        $("#restMenu").hide();
      }
      function showToast(msg) {
        $("#myToast > .toast-body").text(msg);
        $("#myToast").toast("show");
      }

      var pNum = 1;
      function goShopPage(page) {
        if (pNum !== page) {
          pNum = page;
          let minp = page * 12 - 1;
          let maxp = page * 12 + 11;
          $(".foodItem:gt(" + minp + "):lt(" + maxp + ")").hide(1000);
        }
      }

      $("#floatingFliter")
        .delay(1000)
        .fadeIn(1000);

      $(".animeBackground").hide();

      // $(".animeBackground")
      //   .show(3000)
      //   .delay(4000)
      //   .fadeOut(1000);
    </script>
  </body>
</html>
